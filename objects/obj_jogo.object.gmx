<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(fnt_1);

cria_texto(global.nome_boss[0]);
bgy = 0;
ly = 0;
instance_create(0,0,obj_OS);
w = view_wview;
h = view_hview;
multi = 1;
x = -32;
y = -256;
teto = false;
global.vx = 0;
//Background
chao = instance_create(x,y,obj_bloco);
chao.image_xscale = 120;
chao.image_yscale = 20;
chao.x -= 200;
var c = instance_create(x+32,y-800,obj_player);
instance_create(0,0,obj_hud);

CHAO = 0
TIPO = 0;
yy = y;

Estado = 0;
contSpawn = 0;
alarm[0] = 1;

dist1 = 1200;
dist2 = 1400;
dist3 = 1600;
dist4 = 900;
dist5 = 600;

spawna = true;
bossEstado = 0;
bossDist = 0;
lstBossDist = 0;
nxtBossDist = dist1;
global.Fase = 0;
lstBossEstado=0;

formacao_bg(global.Fase);

//Distancia percorrida
dpH = display_get_height()*1.2;
dpS = 0;

YI = -view_hview;;
//Spawns
espaco_tam = 0;
bloco_tam = 2000;
event_user(15);

instance_create(0,0,obj_luz);

global.C = true;

gcl_init();

if(global.ehRandom){
    global.seed = random(999999999999);
    gcl_seed(global.seed);
} else {random_set_seed(global.seed);gcl_seed(global.seed);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.C){
    global.Fase = global.F;
    bossEstado = global.B;
    with(obj_texto){instance_destroy();}
    if (global.Fase &gt; 3){global.Fase = 3;}
    formacao_bg(global.Fase);
    cria_texto(global.introFase[global.Fase]);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Estados de Spawn
spawn_geral_ale();
event_user(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Musica Pra come√ßar
ost_toca(Fase1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Boss Spawn
switch(bossEstado){
    case 6: case 9: case 12: case 15: case 18: case 3: case 0:
        bossDist = player_get_dist() - lstBossDist;
        lstBossEstado=bossEstado;
        if (bossDist &gt; nxtBossDist) &amp;&amp;
            (obj_player.Estado!=5 &amp;&amp;
            obj_player.Estado!=20 &amp;&amp;
            obj_player.Estado!=21){bossEstado=100;}
    break;
    
    case 1:boss_spawna(obj_boss1);ost_toca(Boss1);break;
    case 4:boss_spawna(obj_boss3);ost_toca(Boss1);break;
    case 7:boss_spawna(obj_boss4);ost_toca(Boss1);break;
    
    case 10:boss_spawna(obj_boss2_spawns);ost_toca(Boss1);global.Fase++;break;
    case 13:boss_spawna(obj_end_game);global.cronometra = false;break;
    
    case 8: case 11: case 14: case 17: case 20: case 5: case 2:
        lstBossDist=player_get_dist();break;
        
    case 100:case 200:
        if (global.Fase == 3) || (global.Fase == 4) || global.Fase==5{
            instance_create(0,0,ef_fade_branco);
            if global.Fase == 4{ef_fade_branco.image_alpha = 1;ef_fade_branco.contador = 300;}
        } else{
            instance_create(0,0,obj_foreground);
        }
        obj_player.gravidade=1;
        obj_player.image_yscale=1;
        bossEstado++;
        break;
    
    case 201:
        if (foreground_pode()){
            switch(lstBossEstado){
                case 2:
                    global.Fase++;
                    formacao_bg(global.Fase);
                    ost_toca(Fase2);
                    nxtBossDist = dist2;
                    cria_texto(global.introFase[1]);
                break;
                case 5:
                    global.Fase++;
                    ost_toca(Fase3);
                    formacao_bg(global.Fase);
                    nxtBossDist = dist3;
                    cria_texto(global.introFase[2]);
                break;
                case 8:
                    global.Fase++;
                    ost_toca(Fase4);
                    formacao_bg(global.Fase);
                    nxtBossDist = dist4;
                    cria_texto(global.introFase[3]);
                    break;
                case 11:
                    global.Fase++;
                    ost_toca(Fase5);
                    formacao_bg(global.Fase);
                    
                    
                    cria_texto(global.introFase[4]);
                    nxtBossDist = dist5;
                break;
            }
            gcl_seed(global.seed + global.Fase);
            bossEstado=lstBossEstado+1;obj_player.Estado = 0;with(obj_bloco_segue){segue = false;}
        }
        break;
        
    case 101:
        obj_player.y += (-200-obj_player.y)/30;
        global.vx=16;
        obj_player.x+=20;
        obj_player.Estado = -3;
        if (foreground_pode()){
            obj_player.Estado = 0;
            global.vx = 16;
            bossEstado=lstBossEstado+1;
        }
        break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Espaco e bloco

switch(global.Fase){
    case 0: 
        espaco_tam = 400;
        bloco_tam = max(600,tamanho_bloco_in(3));
        if gcl_dado(13){bloco_tam = tamanho_bloco_in(1);}
        if gcl_dado(8){espaco_tam = tamanho_espaco();}
        break;
        
    case 1: 
        bloco_tam = tamanho_bloco_in(3);
        espaco_tam = tamanho_espaco();
    break;
    
    case 2:
        bloco_tam = tamanho_bloco_in(3);
        espaco_tam = tamanho_espaco()*gcl_random_range(1,1.5);
        break;
    
    case 3:
        bloco_tam = tamanho_bloco_in(4);
        espaco_tam = tamanho_espaco()*gcl_random_range(1,2);
        break;
    
    
    default:
        bloco_tam = tamanho_bloco(3);
        espaco_tam = tamanho_espaco()*gcl_random_range(2,3.5);  
}


bloco_tam = min(4000,bloco_tam);
espaco_tam = min(4000,espaco_tam);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!instance_exists(obj_jogo_hardcore)){
    global.F = global.Fase;
    global.B = lstBossEstado;
    global.C = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="72">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Bg
/***************************************************
  Altera BG
 ***************************************************/
 
 
var xx = obj_player.x;
var py = (view_yview-YI*multi);
var px = view_xview;
var _vw = view_wview/multi;
var _vh = view_hview/multi;

if keyboard_check(vk_up){bgy--;}
if keyboard_check(vk_down){bgy++;}
var ss = 1;
switch(global.Fase){
    case 0:
        background_pos(6,xx,-512,0.1);
        background_pos(5,xx,py*0.6-512,0.3);
        background_pos(4,xx,py*0.9-512,0.6);
        background_pos(0,xx+_vw*0.3,py-_vh,1);
    break;
    
    case 1:
        background_pos(5,xx,py*0.6-512,0.6);
        background_pos(6,xx,py*0.3-512,0.1);
        background_pos(0,xx,py-_vh,1);
        ss = _vh/512;
    break;
    
    case 2:
        background_pos(5,xx,-512,0.94);
        background_pos(6,xx,-512,0.92);
    break;
    
    case 3:
        background_pos(5,xx,py*0.6-512,0.6);
        background_pos(6,xx,py*0.3-512,0.1);
        background_pos(0,xx,py*0.8,0.9);
    break;
    
    case 4:
        if (room == rm_jogo || room == rm_jogo_hardcore){
            _mvh = 512/h;
            
            if !instance_exists(obj_boss2){
                var m = _mvh;
                var vm = (m-multi)/20;
                multi+=vm;
            } else{
                var m = 1;
                var vm = (m-multi)/20;
                multi+=vm;
            }
        }
    case 5:
        if (global.Fase==5){multi = 1;}
        background_pos(0,xx,yy,0.95);
        background_pos(1,xx,yy - 512,0.94);
        background_pos(2,xx,py*0.1-64,0.8);
    break;
    
}
background_xscale[0]=ss;
background_yscale[0]=ss;

view_wview = w*multi;
view_hview = h*multi;


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Bg color
draw_clear(background_color);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Desenha Distancia para o prox boss



var distanciaMax = nxtBossDist;
var distancia = min(distanciaMax,bossDist);


if (distancia &lt;= distanciaMax){
    var distw = w*0.8;
    var distx = w*0.1;
    var py = dpH;
    draw_set_colour(c_white);
    draw_line(distx,py,distx+distw,py);
        var px = distw*distancia/distanciaMax;
    draw_set_colour(c_lime);
        draw_rectangle(distx,py-2,px+distx,py+2,false);
    draw_set_colour(c_black);
        draw_rectangle(distx-1,py-3,px+distx,py+3,true);
    draw_set_colour(c_lime);
        draw_circle(distx+px,py,5,false);
    draw_set_colour(c_black);
        draw_circle(distx+px,py,5,true);
    
    
    if distancia == distanciaMax{
        dpH+=(h*1.1-dpH)/40;
    } else {
        dpH+=(h*0.98-dpH)/40;
    }
}
/*
    draw_text(150,150,"Estado: " + string(Estado) + " Contador:" + string(contSpawn));
    draw_text(150,200,"Altura: " + string(CHAO) + " vy: "+string(ly));
    py = (view_yview-YI);
    draw_text(100,100,py);
with(obj_gcl_random){
    draw_text(10,10,GCL_S);
}
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
