<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>surf = -1;
s=0.5;
w = view_wview*s;
h = view_hview*s;
px = 0;
py = 0;

acesa = false;
lstFase = -1;
image_alpha = 0.1;
c1 = c_white;
c2 = c_black;
a=irandom(360);
b=irandom(360);
image_angle=irandom(360);
alpha = 0.1;
ini_open("save.ini");
    global.luz = ini_read_real("cfg","luz",-3);
    if (global.luz == -3){
        global.luz = false;
        switch (os_type){
            case os_windows: case os_linux: case os_macosx:  
                global.luz = true;
            break;
        }
        if (os_browser != browser_not_a_browser){global.luz=false;}
        ini_write_real("cfg","luz",global.luz);
    }
ini_close();


ang = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>surface_free(surf);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Definicoes
if (global.Fase != lstFase){
    lstFase = global.Fase;
    switch(global.Fase){
        case 0:
            px = w*1.1;
            py = -20;
            image_alpha = 0.1;
            alpha = image_alpha;
            image_blend=$ffffff; 
            c1=$ffff00;
            c2=c_white;
            visible = true;
        break;
        
        case 1:
            px = -100;
            py = -100;
            image_alpha = 0.15;
            alpha = image_alpha;
            image_blend=$a049ff;
            c1=$a049ff;
            c2=c_dkgray;
            visible = true;
        break;
        
        case 2:
            image_alpha = 0.1;
            alpha = image_alpha;
            image_blend=$aacc00;
            c1=$a049ff;
            c2=$aacc00;
            visible = true;
        break;
        
        case 3:
            px = 0;
            py = 0;
            image_alpha = 0.1;
            alpha = image_alpha;
            image_blend=$FF00FF;
            c1=$FF00FF;
            c2=$aacc00;
            visible = true;
        break;
        
        default:
            visible = false;   
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Liga desliga
if keyboard_check_pressed(ord("L")){global.luz = !global.luz;}

a+=0.02;
b+=0.01;
if (a &gt; 180) {a=a mod 180;}
if (b &gt; 360) {b=b mod 360;}
image_blend = merge_colour(c1,c2,dsin(a));
image_alpha = alpha+dsin(b)*0.05;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !global.luz{exit;}

multi = 1;
with(obj_jogo){other.multi = multi;}
s=0.5;
w = view_wview*s;
h = view_hview*s;

image_angle+=0.1;

hp=sqrt(w*w+h*h)*1.5;
vpx = (px+lengthdir_x(100,image_angle));
vpy = (py+lengthdir_y(100,image_angle));
direction = point_direction(vpx,vpy,w/2,h/2);
if !surface_exists(surf){
    surf = surface_create(w,h);
    surface_set_target(surf);
        draw_clear(c_black);
    surface_reset_target();
}

    surface_set_target(surf);
        draw_clear(c_black);
        draw_set_blend_mode(bm_add);
            draw_circle_colour(vpx,vpy,hp,c_white,c_black,false);
        draw_set_blend_mode(bm_subtract);
        draw_set_colour_write_enable(0,0,0,1);
            luz_obj(obj_player);
            luz_chao();
            luz_obj(obj_bloco_teto);
            luz_obj(obj_bloco_teto_fase);
            luz_obj(Boss);
            luz_obj(ELEMENTOS);
    surface_reset_target();
        draw_set_colour_write_enable(1,1,1,1);
    draw_set_blend_mode(bm_add);
    
    draw_surface_ext(surf,view_xview,view_yview,1/s,1/s,0,image_blend,image_alpha);    
    
    draw_set_blend_mode(bm_normal);
    //draw_surface(surf,view_xview,view_yview); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
