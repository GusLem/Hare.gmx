<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player_ready</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>spr_player_mask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*var c1 = eftx_cria("O processo de degradação ambientaaaaaaaaaaaaaaaaal", id);
var c2 = eftx_cria("É auto determinado por todas as formas", id);
var c3 = eftx_cria("de conservativos", id);
eftx_link(c1,c2);
eftx_link(c2,c3);
eftx_comeca(c1);*/

cam_div = 6;
cam_dif = 0;
room_speed = 60;
//instance_create(0,0,obj_pause);
global.vx = 16;
global.vy = 0;
global.ssx =0; 
global.ssy =0; 
XV = 0;
YV = 0;

Estado = -2;
cy = y;
alarm[0] = 1;

contador = 20;

dash = true;
velD = false;
ppular = 10;

moedas = 0;
distancia = 0;
tocaPesada = 0;


instance_create(0,0,obj_readygo);

ini_open("save.ini"); //Abre arquivo e salva oq tem que salvar
    level = ini_read_real("val","level",0);
ini_close();

vidas = level + 2;

tempoTiro503=0;
tempoBarreira = 0;
lane = false;
_zipando = false;

velFinal = 16;


i = 0;lst = -1;n=10;
dir_rastro = 0;

verde = make_colour_rgb(34, 177, 76);
//repeat(10){movimenta_y(16);}

gravidade = 1;
lvlNaveBoss = 1;
lvlNaveBossGo = 1;
velDS = false;
naveHit = false;
naveHitCont = 0;
naveHitContMax = 0;
flash = false;

hit = 0;
contMorte=0;
global.chaoAltura = -300;

global.sf_atirou=0;
vg = 0.6;
cor_rastro = verde;
cor_rastro_dest = verde;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Estado = 503;
lvlNaveBossGo=3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.vx+=0.1;

alarm[0] = 30;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Condicao de derrota

    if (y &gt; 260) {
        with(obj_rastro_sapato){instance_destroy();}
        if vidas &gt; 0{
            if !instance_exists(obj_planador){
                if (global.Fase != 5){
                    ss_cria(30);
                    sfx_toca_ext(sfx_morre,0.6);
                    vidas--;
                    Estado = 502;
                    instance_create(x,y,obj_planador);
                } else {
                    y = -850 - (view_hview - 512);
                    Estado = 0;
                    global.vx = 10;
                    velD=1.2;
                }
            }
        } else if (Estado != 502){
            if (global.Fase == 5){
                y = -850 - (view_hview - 512);
                Estado = 0;
            } else {
                global.vx = 0;
                global.vy = 0;
                x = xprevious;
                y = yprevious;
                contMorte++;
                if contMorte &gt; 15{
                    if !instance_exists(obj_fim){
                        ss_cria(30);
                        sfx_toca_ext(sfx_morre,0.6);
                        instance_create(0,0,obj_fim);
                        Estado = 100;
                    }
                }
            }
        }
    } 

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Movimento
if (Estado != 21) &amp;&amp; (Estado != 666) &amp;&amp; (Estado != 667)&amp;&amp; (Estado != 100){
    if (Estado &gt;= 0){
        global.vx = clamp(global.vx,1,20);
        global.vy = clamp(global.vy,-32,14);
    } else {
        global.vx = 0;
    }
}

visible = true;

pula = false;
pulando = false;
solta = false;

//// CHEAT
/*
if keyboard_check(ord("P")){y-=18;global.vy = 0;}
if keyboard_check(ord("M")){global.vx = 1500;y = -850; global.vy = 0; with(Boss){instance_destroy();}}

if keyboard_check_pressed(ord("L")){moedas+=300;}
if keyboard_check(ord("O")){global.vx = 0;global.vy = 0;}

if keyboard_check_pressed(ord("N")){
    if instance_exists(Boss){
        with(Boss){instance_destroy();}
    } else{
        x += 199999;y = -850;
    }

}*/
//// CHEAT


if keyboard_check(vk_left){if (global.vx &gt; 10){global.vx-=0.2;}}
if !instance_exists(obj_mule){
    if keyboard_check(vk_right){
        global.vx+=0.1;velD=max(velD,0.5);
    }
}
baixo = keyboard_check_pressed(vk_down);

if keyboard_check(vk_space) || mouse_check_button(mb_left){pulando = true;}
if keyboard_check_pressed(vk_space) || mouse_check_button_pressed(mb_left){pula = true;}
if keyboard_check_released(vk_space) || mouse_check_button_released(mb_left){solta = true;}
if keyboard_check_pressed(vk_escape){instance_create(0,0,obj_pause);}


chao = nochao();
moedas += 0.05; 
var si = sign(gravidade - image_yscale); 
image_yscale = clamp(image_yscale+si/4,-1,1);
    /*
        Valores
            Pulo: -6, -8, -12;
            Gravidade: 0.6/0.45;
    
            Pulo: -10, -12, -16;
            Gravidade: 0.8;
    
    */
    mask_index = spr_player_mask;
    if (Estado == 0){
        image_speed = clamp(0.2,global.vx/60,0.8);
    } else {
        image_speed = 0.3;
    }
    if (Estado&gt;=0) &amp;&amp; (Estado != 9) &amp;&amp; (Estado != 11) &amp;&amp; (Estado != 503) &amp;&amp; (Estado !=502) {
        movimenta_x(global.vx);      
        movimenta_x(global.vx*velD);
    }
    
    var e = false;
    switch(Estado){
        case -3:
            sprite_index = spr_player_ultando;
        break;
    
       case -2:
        contador--;
        if contador&lt;=0{Estado++;contador= 80;sfx_toca_ext(sfx_ready,0.95);sprite_index = spr_player_readyB;image_index = 0; image_speed = 0.2;}
            cy = (900);
            movimenta_y(64);
            global.vx = 16;
       break;
       
       case -1:
            contador--;
            if (contador &lt;= 0){Estado=0;sprite_index = spr_player_correndo;global.vx = 16;velD=2;sfx_toca_ext(sfx_go,0.95);global.cronometra=true;}
            global.vy = 0;
       break;
       
       case 0://andando;
            global.vy = 0;
            ppular = 9;
            player_pula();
            camera_atualiza_y();
            dash = true;
            if velDS{velD*=0.8;} else {velD*=0.98;}
            if (sprite_index==spr_player_correndo){
                if (((floor(image_index) == 2) || (floor(image_index) == 0) ) &amp;&amp; (tocaPesada != floor(image_index))){
                    tocaPesada = floor(image_index);
                    //if (floor(image_index) == 2){sfx_toca(sfx_pesada);}
                }
            }
            
            if place_meeting(x+1,y-1*gravidade,obj_bloco){Estado = 10;}   
            if !chao{Estado = 2;}
       break;
       
       case 1.5:
            sfx_toca(sfx_jump);
            Estado = 1;
       case 1://Pulando;
            sprite_index = spr_player_pulando;
            movimenta_y(global.vy);
            if place_meeting(x+1,y,obj_bloco){Estado = 10;}   
            ppula = 0;
            if place_meeting(x,y-1,obj_bloco){
                global.vy = 0;
                Estado = 2;
                contador=0;
            }   
            if (baixo &amp;&amp; gravidade==1){sfx_toca(sfx_dash);Estado = 301;break;}
            
            if (global.vy &gt;= 0 &amp;&amp; gravidade = 1)
                || (global.vy&lt;=0 &amp;&amp; gravidade = -1){Estado = 2;sprite_index = spr_player_transicao_caindo;image_index = 0;}
            global.vy += vg*gravidade;
            player_mov_pula();
            player_dash();
            contador--;
       break;
       
       
       case 300://ataca boss1 por cima
           if pula{
                sfx_toca(sfx_dash);
                Estado = 301;
           }
       case 301://ataca boss 1 por cima com dash pra baixo
            if Estado = 301{
                deixa_rastro();
                global.vy = 32;
                if gravidade&lt;0{Estado = 2; global.vy*=0.4;}
            }
       case 2://Caindo;
            if (sprite_index != spr_player_transicao_caindo) &amp;&amp; (!pulando){sprite_index = spr_player_caindo;}
            
            global.vy += vg*gravidade;
            player_plana();
            movimenta_y(global.vy);
            if (baixo &amp;&amp; gravidade==1){sfx_toca(sfx_dash);Estado = 301;}
            
            if chao{
                if (global.vy &gt; 14){sprite_index = spr_player_roda;image_index = 0;} else {sprite_index = spr_player_correndo;}
                global.vy = 0; 
                Estado = 0;
                //sfx_toca(sfx_pesada);
            }  
            if place_meeting(x+1,y,obj_bloco){Estado = 10;}   
            if (ppular &gt; 0){if (Estado != 301){player_pula();}ppular--;} else {player_dash();}
       break;
       
       case 3://Dash
            Estado = 3.5; 
            sfx_toca(sfx_dash);
       break;
       case 3.5:
            deixa_rastro();
            sprite_index = spr_dash;
            movimenta_x(3);
            dash = false;
            global.vy = 0;
            contador--;
            if contador &lt;= 0{Estado = 1;}
            if solta{Estado = 2;contador = 0;}
            if place_meeting(x+1,y,obj_bloco){Estado = 10;}   
       break;
       
       case 4://Jogado
            velD = 1;
            global.vy = -20-global.vx/1.5;
            Estado = 1;
       break;
       
       case 5://ult inicia
       sprite_index = spr_player_ult_prepara;
       cria_efeito(ef_smokeup,x,y,0.6,verde); 
       
            screen_shake();
            //x+=global.vx;
            global.vx=1;
            global.vy=0;
            contador--;
            //Estado = 2
            if contador &lt;=0{
                Estado = 20;
                contador = 40;
                //global.vy = -4;
            }
       break;
       
       case 20://ult sobe
            cria_efeito(ef_smokeup,x,y,0.6,verde); 
           moedas = 0;
           camera_atualiza_y();
           
            screen_shake();
            var vy = (-750 - y)/10;
            y+=vy;
            contador--;
            if contador &lt;= 0{
                Estado = 21;
                global.vx = 0;
                contador = 300;
                sfx_toca_ext(sfx_ult2,1);
            }
       break;
       
       
       case 21: //ult sai avoado
       sprite_index = spr_player_ultando;
       
            screen_shake();
       deixa_rastro();
       camera_atualiza_y();
        moedas = 0;
        contador--;
        x+=65;
        global.vx = 16;
        if contador &lt;= 0{
            Estado = 2;
            global.vx = 16;
            global.vy = -4;
            velD = 1;
        }           
       break;

       case 6://gruda no barril
            camera_atualiza_y();
            contador--;
            velD = 1;
            if (!obj.atirou){
                x=obj.x;
                y=obj.y;
            }
       break;
       
       case 7://Voa no barril;
            camera_atualiza_y();
            sprite_index = spr_player_pulando;
            contador--;
            if contador &lt;= 0{Estado = 1;}
            movimenta_y(global.vy);
       break;
       
       case 8://skate inicia
        Estado++;
        contador=300;
       break;
       
       case 9://skate
        sprite_index = spr_player_skate;
        //image_index = round( (8+global.vy)/image_number );
        image_angle = -round( (global.vy*global.vy)*sign(global.vy)/2 )
        contador--;
        global.vx+=0.1;
        global.vy = clamp(global.vy,-8,8);
        global.vy+=0.5;
        if (pulando){global.vy-=1;}
        x+=global.vx+global.vx*velD;
        //if chao {if global.vy &gt; 0{global.vy=0;}}
        y+=global.vy;
        e=true;
        if (contador &lt;= 0){if !place_meeting(x,y,obj_bloco){Estado = 0;}}
        if (velD &lt; 1){velD+=0.03;}
       break;
       
       case 10: //Vai para a morte
       sfx_toca(sfx_morre);
        global.vy = -2;
        Estado = 100;
        gravidade = 1;
        image_yscale=1;
       break;
       
       case 11://JETPACK
        sprite_index = spr_player_skate;
        global.vy=min(global.vy+0.6,8);
        if (pula){
            contador--;
            if global.vy &gt; 0{global.vy=-16;} else {global.vy-=6;}
            global.vx+=1;
            velD+=0.5;
        }
        velD*=0.97;
        x+=global.vx*(1+velD);
        if chao {if global.vy &gt; 0{global.vy=0;}}
        y+=global.vy;
        if (contador &lt;= 0){if !place_meeting(x,y,obj_bloco){Estado = 1;velD = min(velD,2)}}
       break;
       
       case 12:        //zip
            sprite_index=spr_player_planador;    
            global.vy = 0;
            ppular = 9;
            player_pula();
            if pula{global.vy=-22;}
            camera_atualiza_y();
            velD*=0.8;
        break;
        
        case 502:sprite_index=spr_player_planador;velD=0;break;
        case 506:lvlNaveBossGo=1.1;break;
        case 503://BossesVoadores
            if instance_exists(obj_nave_gen) &amp;&amp; (room != rm_intro){
                y=view_yview+view_hview/2;
                global.vy = 0;
            }
        
            velD=0;
            global.vy = clamp(global.vy,-8,8);
            sprite_index = spr_player_nave;
            image_index = (3+global.vy*0.375);
            mask_index = sprite_index;
            nave_atira();
            
            if (pulando){
                global.vy-=0.2;
            }else{
                global.vy+=0.2;
            }
            x+=global.vx;
            y+=global.vy;
            var hMin = -500;
            if instance_exists(obj_boss2){hMin = -view_hview;}
            var hMax = -10;
            if (y+global.vy &gt; hMax){y = hMax;if (global.vy&gt;0){global.vy *= -0.2;}}
            if (y+global.vy &lt; hMin){y = hMin;if (global.vy&lt;0){global.vy *= -0.2;}}
            y = clamp(y,hMin, hMax);
            contador--;
            contador = max(contador,10);
            if contador&lt;=0{/*Atira*/}
        break;
       
        case 504:
            if (sprite_index != spr_player_skate_recupera){    
                sprite_index = spr_player_skate;
                if (pula){
                    instance_create(x,y,obj_barreira);
                    sprite_index = spr_player_skate_recupera;
                    global.vx = 16;
                }
            } else {
                image_speed = 0.3;
            }
            velD=0;
            global.vy = 0;
            y += ( -300 -y)/10;
        break;
        
        case 505:
            velD=0;
            global.vy = 0;
            if lane{
                y += ( -200 -y)/3;
            } else {
                y += ( -100 -y)/3;
            }     
            
            if tempoBarreira &lt;=0{
                if pula{
                    tempoBarreira = 7;
                    lane=!lane;
                }
            } else {
                tempoBarreira--;
            }
        break;
        
        case 666:
            sprite_index=spr_player_correndo;
            velD=0;
            movimenta_y(global.vy);
            global.vy = min(global.vy+0.45,8);
            global.vx = 16;
        break;
        
        case 667:  
            sprite_index=spr_player_ultando;
            velD=0;
            player=obj_mule;
            x = player.x-player.ax;
            y = player.y-player.ay;
            global.vx = 16; 
        break;
        
        default:
            global.vx = 0;
            global.vy+=0.6;
            y+=global.vy;
            image_angle+=10;
            e = true;
        break;
        
        
    }
    
    if !e{image_angle = 0;}
    if (Estado &gt; 0){velDS=true;}
    
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Distancia
/*if (x &gt; 10000){
    distancia += x*0.01;
    with(all){
        x-=other.x;
    }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Outros Controles
tempoTiro503=max(tempoTiro503-1,0);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Rastro
//if (Estado != 6){
    dir_rastro+=5;
    if dir_rastro &gt;= 360{dir_rastro = 0;}
    raio_rastro = min(global.vx-11+abs(lengthdir_x(2,dir_rastro)),5);
    if i &gt; n{i = 0;}
    var rxx = x;
    var ryy = y;
    if (sprite_index == spr_player_planador){
        rxx-=14;
        ryy+=27;
    }
    cria = instance_create(rxx,ryy,obj_rastro_sapato);
    cria.raio = raio_rastro;
    cria.pai = id;
    if (Estado == 21){cria.raio = 6+lengthdir_x(2,dir_rastro);}
    cria.idd = i;
    cria.lst = lst;
    lst = cria;
//}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Camera
camera_segue_x();
camera_segue_y();



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Visible
if  (Estado != 6) &amp;&amp; 
    (Estado !=-2){
    if (sprite_index == -1){sprite_index = spr_player_caindo;}
} else {sprite_index = -1;}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///define gravidade
switch(global.Fase){
    case 4: case 5:vg=0.3;break;
    default:vg=0.6;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if keyboard_check_pressed(ord("R")){room_restart();}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Zipline
_zipando = false;
if Estado != 12{
    if (Estado == 2 || Estado == 301){
        with(obj_zipline){
            if (other.x &gt; x+10) &amp;&amp; (other.x &lt; x+tam){
                if (other.y &gt;= y+10) &amp;&amp; (other.y &lt;= y+43){
                    if (global.vy &gt;= 0){
                        if (other.Estado==301){velD=2;}
                        other.Estado = 12;
                        other.y = y+15;
                    }
                }
            }
        }    
    }
} else {
    with(obj_zipline){
        if (other.x &gt; x) &amp;&amp; (other.x &lt; x+tam) &amp;&amp;
        (other.y &gt; y-15) &amp;&amp; (other.y &lt;= y+18){
            other._zipando = true;
        }   
    }
    if !_zipando{Estado = 0;}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Gravidade zuada

if (!instance_exists(obj_boss4)){
    gravidade = 1;   
    if instance_exists(obj_bloco_teto_fase) &amp;&amp; y &gt; -800{
        with(obj_bloco_teto_fase){
            if other.x &gt; x &amp;&amp; other.x &lt; x + sprite_width{
                other.gravidade = -1;
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///sfx

global.sf_atirou--;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_barril">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_esta_ultando() {
    obj = -1;
    ativo = false;
    atirou = true;  
    exit;  
}


other.obj = id;
if !ativo &amp;&amp; !atirou{
    obj = other.id;
}
if other.pula || (other.contador &lt;=0 &amp;&amp; other.Estado == 6){
    atirou = true;
    ativo = true;
    global.vx = lengthdir_x(20,image_angle);
    global.vy = lengthdir_y(30,image_angle);
    other.Estado = 7;
    other.contador = 10;
    other.dash = true;
    obj = -1;
    sfx_toca(sfx_barril);    
}

if (other.Estado != 6){
    if (!ativo){    
        other.Estado = 6; other.contador = 300;ativo = true;
    }
}
if (other.Estado == 6){other.x = x;other.y = y;}    

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_slow">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (!other.morre){
    global.vx *= 0.2;
    sprite_index = spr_player_roda;
    image_index = 0;
    
    sfx_toca(sfx_parede);
    other.morre = true;
    other.vy = -9-irandom(3);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_faster">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_esta_ultando(){exit;}

if (Estado != 4) &amp;&amp; (velD&lt;0.5){
    Estado = 4;
    sfx_toca(sfx_jump);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_esta_ultando(){exit;}
if player_esta_morto(){exit;}
if other.morre{exit;}

if (y &lt; other.y - 16) || (Estado == 3){
    other.morre=true;
    global.vy =-22;
    global.vx+=1;
    moedas+=15;
} else {
    if (Estado != 100) &amp;&amp; (Estado != 10){Estado = 10;}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bounce">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
    global.vy=-24;
    
    if (Estado == 301){Estado = 2;global.vy=-30;velD=2;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_tentaculo">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ( (Estado == 2 &amp;&amp; (global.vy &lt; 15.8)) || (Estado = 300 &amp;&amp; global.vy &gt; 0) || Estado == 301)  {
    with(obj_boss1){
        life-=1.4;
        hit = 4;
        with(obj_tentaculo){hit = 4;}
    }
    dash = false;
    ppular = 0;
    global.vy = -12;
    Estado = 300;
        sfx_toca_ext(sfx_parede,1.3);
}

if (Estado==1){
    with(obj_boss1){
        life-=3;
        hit = 4;
        with(obj_tentaculo){hit = 4;}
    }
    Estado++;
    global.vy=16;
    dash = false;
        sfx_toca_ext(sfx_parede,1.3);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_boss1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if !(other.visible){exit;}

if (other.Estado = 12) &amp;&amp; (Estado ==1){//antigo
    with(other){
        life--;
        hit = 4;
        with(obj_tentaculo){hit = 4;}
    }
        sfx_toca_ext(sfx_parede,1.3);
    Estado++;
    global.vy=32;
    dash = false;
}

if (floor(other.Estado) == 7) || 
    (floor(other.Estado) == 10){
    if (y&gt;other.y-10){
        if !player_esta_morto(){
            Estado = 10;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>show_message("Funcionando");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sprite_index == spr_player_roda{sprite_index = spr_player_correndo;}
if sprite_index == spr_player_transicao_caindo{sprite_index = spr_player_caindo;}
if spr_player_readyB == sprite_index{sprite_index = spr_player_ready;}
if sprite_index == spr_player_skate_recupera{sprite_index = spr_player_skate;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="72">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
/*draw_set_colour(c_red);
draw_text(100,100,global.Fase);

draw_text(100,100,cam_div);
draw_text(10,10,vg);
draw_text(50,50,global.vy);
draw_text(150,100,gravidade);
*/
if (Estado == 503) &amp;&amp; (room != rm_intro){
    desenha_level_nave(0.01);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Rastro

if (Estado == 506){exit;}
draw_primitive_begin(pr_trianglestrip);
    cor_rastro_dest = verde;
    if velD &gt; 0{cor_rastro_dest = c_lime;}
    cor_rastro = merge_colour(cor_rastro,cor_rastro_dest,0.1);
    draw_set_colour(cor_rastro);
    with(obj_rastro_sapato){
        if (pai != other.id){continue;}
        if (lst!=-1 &amp;&amp; instance_exists(lst)) &amp;&amp; (idd == lst.idd){
            var ang = point_direction(x,y,lst.x,lst.y);
            var dx = lengthdir_x(1,ang+90);
            var dy = lengthdir_y(1,ang+90);
            
            draw_vertex(x+dx*raio+1,y+dy*raio);
            draw_vertex(x-dx*raio+1,y-dy*raio);
            draw_vertex(lst.x+dx*lst.raio,lst.y+dy*lst.raio);
            draw_vertex(lst.x-dx*lst.raio,lst.y-dy*lst.raio);
            other.lx = dx;
            other.ly = dy;
        }
    }
draw_primitive_end();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Player
if (naveHit){naveHit = false;naveHitCont = 10; naveHitContMax = 10;flash = false;}
if naveHitContMax&lt;=0{image_alpha = 1;} else {naveHitCont--; if naveHitCont&lt;=0{flash = !flash;naveHitContMax--;naveHitCont=naveHitContMax;} if flash{image_alpha = 0;} else {image_alpha = 1;}}
if (Estado != 6) &amp;&amp; (Estado !=-2){
    if (hit &lt;= 0){
        draw_self();
    } else {
        hit--;
        d3d_set_fog(true, c_white, 0, 0);
            draw_self();
        d3d_set_fog(false, c_black, 0, 0);
    }
}

var w = display_get_gui_width();
var h = display_get_gui_height();

if (Estado == 9) || (Estado == 6){
    if (contador &gt; 0){
        var px = x-25;
        var py = y+25;
        if Estado == 6 {px += 25; py += 25;}
        draw_set_colour(c_black);    
        draw_rectangle(px-1,py-1,1+px+contador/6,py+1,false);    
        draw_set_colour(c_white);    
        draw_rectangle(px-1,py-1,1+px+contador/6,py+1,true);    
    }
}

if (Estado == 11){
    if (contador &gt; 0){
        var px = x-25;
        var py = y+25;
        draw_set_colour(c_black);    
        draw_rectangle(px-1,py-1,1+px+contador*10,py+1,false);    
        draw_set_colour(c_white);    
        draw_rectangle(px-1,py-1,1+px+contador*10,py+1,true); 
    }
}

/*
draw_text(x,y - 100, "vy: " + string(global.vy) + "/"  + string(y - yprevious));

draw_text(view_xview + 100,view_yview + 100,"Vazio " + string(tamanho_espaco()));
draw_text(view_xview + 100,view_yview + 150,"Tamanho [Max: " + string(tamanho_bloco(3)) + "/Min: " +string(tamanho_bloco(0.3))+ "]");





</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
