<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss3_real</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>Boss</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_player.Estado = 504;
image_speed = 0.2;
cria_texto(global.nome_boss[2]);

//alarm[5] = 240;


///Cria
dano = 0;
paraMusica = true;
xx = 0;
yy = view_hview/2;

Estado = 0;

px=0;
py=0;
vx = 0;
vy = 0;
acx = -0.1;
acy = 0;

contador = 0;
contador2 = 0;

ax = 0;
ay = 0;
aspeed = 0;



life = 100;
life_atual = life;
alt_life = 0.97;

///Respira
fresp = 0;
resp = 0;


///padroes de tiro
limiar1 = true;
limiar2 = true;
alarme = 240;
alarm[0] = alarme;
spawn = "4444";
posicao = 0;
spd = 1;
first = true;
event_user(0);
hit = 0;


R = 255;
G = 255;
B = 255;
cor = c_white;
alarm[1] = 120;

alp = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//Texto
var c1 = eftx_cria_cor("UgaBuga",id,c_maroon,c_black);
c1.tx_spd = 0.1;
c1.tx_pitch = 0.6;
var c2 = eftx_cria_cor("BugaUga",obj_player.id,make_colour_rgb(80,255,80),c_black);
eftx_link(c1,c2);
eftx_comeca(c1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

R = irandom(255)+irandom(255);
G = irandom(255)+irandom(255);
B = irandom(255)+irandom(255);
if (R&gt;255){R = 255;}
if (G&gt;255){G = 255;}
if (B&gt;255){B = 255;}


cor = make_colour_rgb(R,G,B);
alarm[1] = 120;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var cria = boss3_atira(spd);
    cria.image_blend = image_blend;

posicao++;
var c = string_char_at(spawn,posicao); 
var tempo = 60;
tempo = real(c)*8; 
if paraMusica{
    with(obj_toca_musica){
        audio_sound_gain(musica,0.2,1000);
    }
    paraMusica=false;
}

alarm[0] = tempo;
if (c == ""){
    alarm[0] = alarme;
    event_user(0);
}
alp = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_user(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Estados
var w = view_wview;
var h = view_hview;

switch(Estado){
    case 0: ///inicio
        xx = -w*0.5;
        yy = h*0.5;
        image_angle = 0;
        contador = 240;
        Estado++;        
    break;
    
    case 1: //Intro
        boss1_mov_pos(w*0.8,obj_player.y - view_yview);  
        contador--;
        if contador &lt; 0{Estado++;}
    break;
    
    case 2:
        boss1AY_movimenta();
        
    break;   
}

      
if (life &gt; 0){
    x = view_xview + xx + ax;
    y = view_yview + yy + ay;
} else {//morre aqui
    if visible{
        ach_completa(1);
        //var c1 = eftx_cria_cor("Now I mastered the arts of Ubudega",obj_player.id,make_colour_rgb(80,255,80),c_black);
        //eftx_comeca(c1);
        dorme(200);
        visible = false;
        instance_explode();
        alarm[2] = 80;    
    }
}

image_alpha +=0.5;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_boss3_bala">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (other.ataca){
    with(other){
        instance_destroy();
    }
        var dano = 2;
        life-=dano;
        hit = 4;
        
        sfx_toca_ext(sfx_parede,1.3);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
    image_blend = merge_colour(image_blend, cor, 0.1);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>posicao = 0;
dist = 300;
spd = 2+irandom(8);

if (first || spd &lt; 5){
    dist = 150;
    spd = 3;
}
tempo = dist/spd;
n = 0;
spawn = "";
//padrao completamente aleatorio
while(n &lt; tempo){
    var num = choose(1,2,3,4);
    n+=num*8;
    spawn+=string(num);
}


if (limiar1 &amp;&amp; life &lt;= 80) || (life &lt; 20){
    spd = 4;
    spawn = "1111114111111";
    tempo = real(string_length(spawn))*8 + 45;
    limiar1 = false;
} else if (limiar2 &amp;&amp; life &lt;= 45){
    spd = 4;
    spawn = "1111111114111111111";
    tempo = real(string_length(spawn))*8 + 60;
    limiar2 = false;
} else {
    while(n &lt; tempo){
        var num = choose(1,2,3,4);
        n+=num*8;
        spawn+=string(num);
    }
}


    alarme = tempo + 120;
    if (first || spd &lt; 5){alarme+=120;}
    first = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>desenha_vida_boss(alt_life);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>resp+=3;
if resp &gt; 360{resp=0;}
fresp = lengthdir_x(0.03,resp);
image_xscale = 1+fresp;
image_yscale = 1+fresp;
image_alpha = 1;



if hit &lt;= 0{
    draw_self();
} else {
    hit--;
    d3d_set_fog(true, c_white, 0, 0);
        draw_self(); 
    d3d_set_fog(false, c_black, 0, 0);
}


    if (alp &gt; 0.05){
        alp*=0.9;
        d3d_set_fog(true, image_blend, 0, 0);
        image_alpha = alp;
            draw_self(); 
        image_alpha = 1;
        d3d_set_fog(false, c_black, 0, 0);
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
